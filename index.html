<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <script type="text/javascript" src="./customjs.js"></script>
    
    <script>
      initAll();
    </script>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <title>dataLayer Sandbox - Data to Value</title>
  </head>
  <body> 
    
<div class="container">
<section>
    <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
      <div class="container-fluid">
        <a class="navbar-brand" href="https://sandbox.datatovalue.nl">dataLayer Sandbox</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
          <ul class="navbar-nav me-auto mb-2 mb-md-0">
            <li class="nav-item">
              <a class="nav-link" href="#custom_event">Custom Event</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#product_views">Product Views</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#internal_promotions">Promotions</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#shopping_cart">Cart</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#checkout">Checkout</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#purchase">Purchase</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#refund">Refund</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
</section>

<section>
  <div class="px-4 py-5 my-5 text-center">
    <div class="row mb-2">
      <div class="col-6 themed-grid-col">
    <img class="d-block mx-auto mb-4" src="https://datatovalue.nl/wp-content/uploads/2021/11/cropped-Datatovalue_logo_middel_zwartblauw.png" alt="" width="100px" align="right">
  </div>
  <div class="col-6 themed-grid-col">
    <img class="d-block mx-auto mb-4" src="https://ksdigital.co/wp-content/uploads/2020/01/cropped-KS-Digital-Logo-main-1.png" alt="" width="100px" align="left">
  </div>
  </div>
    <h1 class="display-5 fw-bold">dataLayer Sandbox</h1>
    <div class="col-lg-6 mx-auto">
      <p class="lead mb-4">This page is used to experiment with the dataLayer and the default hits required for a Google Analytics 4 implementation. We use it mainly for educational purposes, like our <a href="https://academy.ksdigital.co/courses/ga4-technical-implementation" target="_blank">Technical Deep-Dive course for Google Analytics 4 together with Krista Seiden</a>.</p>
      <p>If you are looking for the Consent Management Platform page, please <a href="/cookiebot.html">click here.</a></p>
    </div>
  </div>
</section>

<div class="container">
  <h2>dataLayer Initialization</h2>
  <p>In this section you can configure the dataLayer that you want to be present when you refresh this page. By default it's empty, but you can change that.</p>
    <section id="dl_init" class="container px-10 gx-10 mb-5">
      <h3>Configure Initialization</h3>
      <p>This allows you to define what the dataLayer should look like when you refresh this page. Fill it out, save it, and once you refresh, these values will be in the dataLayer upon reload.</p>
      <div>
        <div class="input-group mb-2">
          <span class="input-group-text">Initialization</span>
          <textarea id="dl-init" class="form-control" placeholder="Push custom object to dataLayer..." rows="3"></textarea>
        </div>
        <button type="submit" class="btn btn-success" onclick="saveToLocalStorage('dl')">Save dataLayer Initialization</button>
      </div>
    </section>

        <h2>dataLayer Pushes</h2>
    <p>All the forms below execute a dataLayer.push for the contained text. By default, the page is filled with the most common Google Analytics 4 Events, but you can change them all.</p>

    <section id="custom_event" class="container px-10 gx-10 mb-5">
      <h3>Custom Event</h3>
      <div>
        <div class="input-group mb-2">
          <span class="input-group-text">custom_event</span>
          <textarea id="dl-custom_event" class="form-control" placeholder="Push custom object to dataLayer..." rows="3">{"event": "custom_event"}</textarea>
        </div>
        <button type="submit" class="btn btn-primary" onclick="pushToDataLayer('custom_event')">Push custom_event</button>
      </div>
    </section>

    <section id="product_views" class="container px-10 gx-10 mb-5">
      <h3>Product Views and Interactions</h3>
      <div class="container px-10 gx-10 mb-5">
        <h4>View item list</h4>
        <div class="input-group mb-2 ">
          <span class="input-group-text">view_item_list</span>
          <textarea id="dl-view_item_list" class="form-control" rows="15">
            {
              "event": "view_item_list",
              "ecommerce": {
                "items": [
                 {
                  "item_id": "SKU_12345",
                  "item_name": "Stan and Friends Tee",
                  "affiliation": "Google Merchandise Store",
                  "coupon": "SUMMER_FUN",
                  "currency": "USD",
                  "discount": 2.22,
                  "index": 0,
                  "item_brand": "Google",
                  "item_category": "Apparel",
                  "item_category2": "Adult",
                  "item_category3": "Shirts",
                  "item_category4": "Crew",
                  "item_category5": "Short sleeve",
                  "item_list_id": "related_products",
                  "item_list_name": "Related Products",
                  "item_variant": "green",
                  "location_id": "L_12345",
                  "price": 9.99,
                  "quantity": 1
                },
                {
                  "item_id": "SKU_12346",
                  "item_name": "Google Grey Women's Tee",
                  "affiliation": "Google Merchandise Store",
                  "coupon": "SUMMER_FUN",
                  "currency": "USD",
                  "discount": 3.33,
                  "index": 1,
                  "item_brand": "Google",
                  "item_category": "Apparel",
                  "item_category2": "Adult",
                  "item_category3": "Shirts",
                  "item_category4": "Crew",
                  "item_category5": "Short sleeve",
                  "item_list_id": "related_products",
                  "item_list_name": "Related Products",
                  "item_variant": "gray",
                  "location_id": "L_12345",
                  "price": 20.99,
                  "quantity": 1
                }]
              }
            }</textarea>
        </div>
        <button type="submit" class="btn btn-primary" onclick="pushToDataLayer('view_item_list')">Push view_item_list</button>
      </div>

      <div class="container px-10 gx-10 mb-5">
        <h4>Select Item</h4>
        <div class="input-group mb-2">
          <span class="input-group-text">select_item</span>
          <textarea id="dl-select_item" class="form-control" rows="15">{
  "event": "select_item",
  "ecommerce": {
    "items": [
    {
      "item_id": "SKU_12345",
      "item_name": "Stan and Friends Tee",
      "affiliation": "Google Merchandise Store",
      "coupon": "SUMMER_FUN",
      "currency": "USD",
      "discount": 2.22,
      "index": 0,
      "item_brand": "Google",
      "item_category": "Apparel",
      "item_category2": "Adult",
      "item_category3": "Shirts",
      "item_category4": "Crew",
      "item_category5": "Short sleeve",
      "item_list_id": "related_products",
      "item_list_name": "Related Products",
      "item_variant": "green",
      "location_id": "L_12345",
      "price": 9.99,
      "quantity": 1
    }
    ]
  }
}</textarea>
        </div>
        <button type="submit" class="btn btn-primary" onclick="pushToDataLayer('select_item')">Push select_item</button>
      </div>

      <div class="container px-10 gx-10 mb-5">
        <h4>View item</h4>
        <div class="input-group mb-2">
          <span class="input-group-text">view_item</span>
          <textarea id="dl-view_item" class="form-control" rows="15">{
  "event": "view_item",
  "ecommerce": {
    "items": [
    {
      "item_id": "SKU_12345",
      "item_name": "Stan and Friends Tee",
      "affiliation": "Google Merchandise Store",
      "coupon": "SUMMER_FUN",
      "currency": "USD",
      "discount": 2.22,
      "index": 0,
      "item_brand": "Google",
      "item_category": "Apparel",
      "item_category2": "Adult",
      "item_category3": "Shirts",
      "item_category4": "Crew",
      "item_category5": "Short sleeve",
      "item_list_id": "related_products",
      "item_list_name": "Related Products",
      "item_variant": "green",
      "location_id": "L_12345",
      "price": 9.99,
      "quantity": 1
    }
    ]
  }
}</textarea>
        </div>
        <button type="submit" class="btn btn-primary" onclick="pushToDataLayer('view_item')">Push view_item</button>
      </div>
</section>

<section id="internal_promotions" class="container px-10 gx-10 mb-5">
      <h3>Internal Promotions</h3>
      <div class="container px-10 gx-10 mb-5">
        <h4>View Promotion</h4>
        <div class="input-group mb-2">
          
          <span class="input-group-text">view_promotion</span>
          <textarea id="dl-view_promotion" class="form-control" rows="15">{
  "event": "view_promotion",
  "ecommerce": {
    "items": [
    {
      "promotion_id": "promocampaignid123",
      "promotion_name": "some_readable_promo_name_2022",
      "creative_name": "the_name_of_the_banner_version",
      "creative_slot": "featured_items_2",
      "location_id": "hero_banner"
    },
    {
      "promotion_id": "promocampaignid456",
      "promotion_name": "some_readable_promo_2023",
      "creative_name": "the_name_of_the_banner_version2",
      "creative_slot": "featured_items_4",
      "location_id": "hero_banner"
    }
    ]
  }
}</textarea>
        </div>
        <button type="submit" class="btn btn-primary" onclick="pushToDataLayer('view_promotion')">Push view_promotion</button>
      </div>

      <div class="container px-10 gx-10 mb-5">
        <h4>Select Promotion</h4>
        <div class="input-group mb-2">
          <span class="input-group-text">select_promotion</span>
          <textarea id="dl-select_promotion" class="form-control" rows="15">{
  "event": "select_promotion",
  "ecommerce": {
    "items": [
    {
      "promotion_id": "promocampaignid456",
      "promotion_name": "some_readable_promo_2023",
      "creative_name": "the_name_of_the_banner_version2",
      "creative_slot": "featured_items_4",
      "location_id": "hero_banner"
    }
    ]
  }
}</textarea>
        </div>
        <button type="submit" class="btn btn-primary" onclick="pushToDataLayer('select_promotion')">Push select_promotion</button>
      </div>
</section>
<section id="shopping_cart" class="container px-10 gx-10 mb-5">
      <h3>Shopping Cart Interactions</h3>

      <div class="container px-10 gx-10 mb-5">
        <h4>Add to Wishlist</h4>
        <div class="input-group mb-2">
          <span class="input-group-text">add_to_wishlist</span>
          <textarea id="dl-add_to_wishlist" class="form-control" rows="15">{
  "event": "add_to_wishlist",
  "ecommerce": {
    "items": [
    {
      "item_id": "SKU_12345",
      "item_name": "Stan and Friends Tee",
      "affiliation": "Google Merchandise Store",
      "coupon": "SUMMER_FUN",
      "currency": "USD",
      "item_brand": "Google",
      "item_category": "Apparel",
      "item_category2": "Adult",
      "item_category3": "Shirts",
      "item_category4": "Crew",
      "item_category5": "Short sleeve",
      "item_list_id": "related_products",
      "item_list_name": "Related Products",
      "item_variant": "green",
      "price": 9.99,
      "quantity": 1
    }
    ]
  }
}</textarea>
        </div>
        <button type="submit" class="btn btn-primary" onclick="pushToDataLayer('add_to_wishlist')">Push add_to_wishlist</button>
      </div>

      <div class="container px-10 gx-10 mb-5">
        <h4>Add to Cart</h4>
        <div class="input-group mb-2">
          <span class="input-group-text">add_to_cart</span>
          <textarea id="dl-add_to_cart" class="form-control" rows="15">{
  "event": "add_to_cart",
  "ecommerce": {
    "items": [
    {
      "item_id": "SKU_12345",
      "item_name": "Stan and Friends Tee",
      "affiliation": "Google Merchandise Store",
      "coupon": "SUMMER_FUN",
      "currency": "USD",
      "discount": 2.22,
      "index": 0,
      "item_brand": "Google",
      "item_category": "Apparel",
      "item_category2": "Adult",
      "item_category3": "Shirts",
      "item_category4": "Crew",
      "item_category5": "Short sleeve",
      "item_list_id": "related_products",
      "item_list_name": "Related Products",
      "item_variant": "green",
      "location_id": "L_12345",
      "price": 9.99,
      "quantity": 1
    }
    ]
  }
}</textarea>
        </div>
        <button type="submit" class="btn btn-primary" onclick="pushToDataLayer('add_to_cart')">Push add_to_cart</button>
      </div>

      <div class="container px-10 gx-10 mb-5">
        <h4>View Cart</h4>
        <div class="input-group mb-2">
          <span class="input-group-text">view_cart</span>
          <textarea id="dl-view_cart" class="form-control" rows="15">{
  "event": "view_cart",
  "ecommerce": {
    "items": [
    {
      "item_id": "SKU_12345",
      "item_name": "Stan and Friends Tee",
      "affiliation": "Google Merchandise Store",
      "coupon": "SUMMER_FUN",
      "currency": "USD",
      "discount": 2.22,
      "index": 0,
      "item_brand": "Google",
      "item_category": "Apparel",
      "item_category2": "Adult",
      "item_category3": "Shirts",
      "item_category4": "Crew",
      "item_category5": "Short sleeve",
      "item_list_id": "related_products",
      "item_list_name": "Related Products",
      "item_variant": "green",
      "location_id": "L_12345",
      "price": 9.99,
      "quantity": 1
    }
    ]
  }
}</textarea>
        </div>
        <button type="submit" class="btn btn-primary" onclick="pushToDataLayer('view_cart')">Push view_cart</button>
      </div>

           <div class="container px-10 gx-10 mb-5">
        <h4>Remove from Cart</h4>
        <div class="input-group mb-2">
          <span class="input-group-text">remove_from_cart</span>
          <textarea id="dl-remove_from_cart" class="form-control" rows="15">{
  "event": "remove_from_cart",
  "ecommerce": {
    "items": [
    {
      "item_id": "SKU_12345",
      "item_name": "Stan and Friends Tee",
      "affiliation": "Google Merchandise Store",
      "coupon": "SUMMER_FUN",
      "currency": "USD",
      "discount": 2.22,
      "index": 0,
      "item_brand": "Google",
      "item_category": "Apparel",
      "item_category2": "Adult",
      "item_category3": "Shirts",
      "item_category4": "Crew",
      "item_category5": "Short sleeve",
      "item_list_id": "related_products",
      "item_list_name": "Related Products",
      "item_variant": "green",
      "location_id": "L_12345",
      "price": 9.99,
      "quantity": 1
    }
    ]
  }
}</textarea>
        </div>
        <button type="submit" class="btn btn-primary" onclick="pushToDataLayer('remove_from_cart')">Push remove_from_cart</button>
      </div>

</section>

<section id="checkout" class="container px-10 gx-10 mb-5">
      <h3>Checkout Funnel</h3>
      <div class="container px-10 gx-10 mb-5">
        <h4>Begin Checkout</h4>
        <div class="input-group mb-2">
          <span class="input-group-text">begin_checkout</span>
          <textarea id="dl-begin_checkout" class="form-control" rows="15">{
  "event": "begin_checkout",
  "ecommerce": {
    "items": [
    {
      "item_id": "SKU_12345",
      "item_name": "Stan and Friends Tee",
      "affiliation": "Google Merchandise Store",
      "coupon": "SUMMER_FUN",
      "currency": "USD",
      "discount": 2.22,
      "index": 0,
      "item_brand": "Google",
      "item_category": "Apparel",
      "item_category2": "Adult",
      "item_category3": "Shirts",
      "item_category4": "Crew",
      "item_category5": "Short sleeve",
      "item_list_id": "related_products",
      "item_list_name": "Related Products",
      "item_variant": "green",
      "location_id": "L_12345",
      "price": 9.99,
      "quantity": 1
    }
    ]
  }
}</textarea>
        </div>
        <button type="submit" class="btn btn-primary" onclick="pushToDataLayer('begin_checkout')">Push begin_checkout</button>
      </div>


      <div class="container px-10 gx-10 mb-5">
        <h4>Add Shipping Information</h4>
        <div class="input-group mb-2">
          <span class="input-group-text">add_shipping_information</span>
          <textarea id="dl-add_shipping_information" class="form-control" rows="15">{
  "event": "add_shipping_info",
  "ecommerce": {
    "shipping_tier": "SuperFastDeluxeShipping",
    "items": [
    {
      "item_id": "SKU_12345",
      "item_name": "Stan and Friends Tee",
      "affiliation": "Google Merchandise Store",
      "coupon": "SUMMER_FUN",
      "currency": "USD",
      "discount": 2.22,
      "index": 0,
      "item_brand": "Google",
      "item_category": "Apparel",
      "item_category2": "Adult",
      "item_category3": "Shirts",
      "item_category4": "Crew",
      "item_category5": "Short sleeve",
      "item_list_id": "related_products",
      "item_list_name": "Related Products",
      "item_variant": "green",
      "location_id": "L_12345",
      "price": 9.99,
      "quantity": 1
    }
    ]
  }
}</textarea>
        </div>
        <button type="submit" class="btn btn-primary" onclick="pushToDataLayer('add_shipping_information')">Push add_shipping_information</button>
      </div>

      <div class="container px-10 gx-10 mb-5">
        <h4>Add Payment Info</h4>
        <div class="input-group mb-2">
          <span class="input-group-text">add_payment_info</span>
          <textarea id="dl-add_payment_info" class="form-control" rows="15">{
  "event": "add_payment_info",
  "ecommerce": {
    "payment_type": "Credit Card",
    "items": [
    {
      "item_id": "SKU_12345",
      "item_name": "Stan and Friends Tee",
      "affiliation": "Google Merchandise Store",
      "coupon": "SUMMER_FUN",
      "currency": "USD",
      "discount": 2.22,
      "index": 0,
      "item_brand": "Google",
      "item_category": "Apparel",
      "item_category2": "Adult",
      "item_category3": "Shirts",
      "item_category4": "Crew",
      "item_category5": "Short sleeve",
      "item_list_id": "related_products",
      "item_list_name": "Related Products",
      "item_variant": "green",
      "location_id": "L_12345",
      "price": 9.99,
      "quantity": 1
    }
    ]
  }
}</textarea>
        </div>
        <button type="submit" class="btn btn-primary" onclick="pushToDataLayer('add_payment_info')">Push add_payment_info</button>
      </div>
</section>
<section id="purchase" class="container px-10 gx-10 mb-5">
  <h3>Purchase</h3>

      <div class="container px-10 gx-10 mb-5">
        <h4>Purchase (Transaction)</h4>
        <div class="input-group mb-2">
          <span class="input-group-text">purchase</span>
          <textarea id="dl-purchase" class="form-control" rows="15">{
  "event": "purchase",
  "ecommerce": {
      "transaction_id": "T_12345",
      "affiliation": "Google Merchandise Store",
      "value": 25.42,
      "tax": 4.90,
      "shipping": 5.99,
      "currency": "USD",
      "coupon": "SUMMER_SALE",
      "items": [
       {
        "item_id": "SKU_12345",
        "item_name": "Stan and Friends Tee",
        "affiliation": "Google Merchandise Store",
        "coupon": "SUMMER_FUN",
        "currency": "USD",
        "discount": 2.22,
        "index": 0,
        "item_brand": "Google",
        "item_category": "Apparel",
        "item_category2": "Adult",
        "item_category3": "Shirts",
        "item_category4": "Crew",
        "item_category5": "Short sleeve",
        "item_list_id": "related_products",
        "item_list_name": "Related Products",
        "item_variant": "green",
        "location_id": "L_12345",
        "price": 9.99,
        "quantity": 1
      },
      {
        "item_id": "SKU_12346",
        "item_name": "Google Grey Women's Tee",
        "affiliation": "Google Merchandise Store",
        "coupon": "SUMMER_FUN",
        "currency": "USD",
        "discount": 3.33,
        "index": 1,
        "item_brand": "Google",
        "item_category": "Apparel",
        "item_category2": "Adult",
        "item_category3": "Shirts",
        "item_category4": "Crew",
        "item_category5": "Short sleeve",
        "item_list_id": "related_products",
        "item_list_name": "Related Products",
        "item_variant": "gray",
        "location_id": "L_12345",
        "price": 20.99,
        "promotion_id": "P_12345",
        "promotion_name": "Summer Sale",
        "quantity": 1
      }]
  }
}</textarea>
        </div>
        <button type="submit" class="btn btn-primary" onclick="pushToDataLayer('purchase')">Push purchase</button>
      </div>
</section>
<section id="refund" class="container px-10 gx-10 mb-5">

  <h3>Refunds</h3>
      <div class="container px-10 gx-10 mb-5">
        <h4>Full Refund</h4>
        <div class="input-group mb-2">
          <span class="input-group-text">refund</span>
          <textarea id="dl-full-refund" class="form-control" rows="15">{
  "event": "refund",
  "ecommerce": {
    "transaction_id": "T_12345"
  }
}</textarea>
        </div>
        <button type="submit" class="btn btn-primary" onclick="pushToDataLayer('full-refund')">Push full refund</button>
      </div>
    

    <div class="container px-10 gx-10 mb-5">
      <h4>Partial Refund</h4>
      <div class="input-group mb-2">
        <span class="input-group-text">refund</span>
        <textarea id="dl-partial-refund" class="form-control" rows="15">{
"event": "refund",
"ecommerce": {
  "transaction_id": "T_12345",
  "items": [
  {
    "item_id": "SKU_12345",
    "item_name": "Stan and Friends Tee",
    "coupon": "SUMMER_FUN",
    "item_brand": "Google",
    "item_category": "Apparel",
    "item_category2": "Adult",
    "item_category3": "Shirts",
    "item_category4": "Crew",
    "item_category5": "Short sleeve",
    "item_variant": "green",
    "price": 9.99,
    "quantity": 1
  }
  ]
}
}</textarea>
      </div>
      <button type="submit" class="btn btn-primary" onclick="pushToDataLayer('partial-refund')">Push partial refund</button>
    </div>
  </div>
    </section>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
  </body>
</html>